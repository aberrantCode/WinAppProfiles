<Window x:Class="WinAppProfiles.UI.Views.CardWindowMock"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:models="clr-namespace:WinAppProfiles.Core.Models;assembly=WinAppProfiles.Core"
        xmlns:vm="clr-namespace:WinAppProfiles.UI.ViewModels"
        mc:Ignorable="d"
        Title="WinAppProfiles" Height="700" Width="1100"
        Background="#1E1E1E" TextElement.Foreground="#E0E0E0">
    <Window.Resources>
        <Style x:Key="ToggleSwitchStyle" TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Border x:Name="Border" CornerRadius="10" Background="#3E3E42" Width="40" Height="20">
                                <Ellipse x:Name="Ellipse" Fill="#B0B0B0" Width="16" Height="16" HorizontalAlignment="Left" Margin="2"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#0078D4"/>
                                <Setter TargetName="Ellipse" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="Ellipse" Property="Fill" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DataTemplate x:Key="ProfileItemCardTemplate">
            <Border Background="#2D2D30" CornerRadius="8" Width="180" Height="200" Margin="0,0,15,0" Padding="15">
                <StackPanel>
                    <Rectangle Width="64" Height="64" Fill="#555" HorizontalAlignment="Center" Margin="0,0,0,15"/>
                    <TextBlock Text="{Binding DisplayName}" FontWeight="SemiBold" TextAlignment="Center" TextTrimming="CharacterEllipsis" Margin="0,0,0,10"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                        <Ellipse Width="10" Height="10" Margin="0,0,8,0">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentState}" Value="Running">
                                            <Setter Property="Fill" Value="#28a745"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding CurrentState}" Value="Not Running">
                                            <Setter Property="Fill" Value="#dc3545"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding CurrentState}" Value="Unknown">
                                            <Setter Property="Fill" Value="#6c757d"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                        <TextBlock Text="{Binding CurrentState}" Foreground="#B0B0B0"/>
                    </StackPanel>
                    <CheckBox Style="{StaticResource ToggleSwitchStyle}" IsChecked="{Binding IsDesiredRunning, Mode=TwoWay}" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </DataTemplate>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" Margin="0,0,0,20">
            <ComboBox DockPanel.Dock="Right" Width="200" Background="#3E3E42" Foreground="#E0E0E0" BorderThickness="0"
                      ItemsSource="{Binding Profiles}"
                      SelectedItem="{Binding SelectedProfile}"
                      DisplayMemberPath="Name">
            </ComboBox>
            <TextBlock Text="WinAppProfiles" FontSize="24" FontWeight="Bold"/>
        </DockPanel>

        <Border Grid.Row="1" Background="#2D2D30" CornerRadius="4" Padding="10,8" Margin="0,0,0,25">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ”" Margin="0,0,10,0" Foreground="#B0B0B0"/>
                <TextBox Text="{Binding NeedsReviewSearchText, UpdateSourceTrigger=PropertyChanged}" Background="Transparent" BorderThickness="0" Foreground="#E0E0E0" Width="500"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <TextBlock Text="Applications" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                <ListView Background="Transparent" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Auto" ItemTemplate="{StaticResource ProfileItemCardTemplate}" Margin="0,0,0,30"
                          ItemsSource="{Binding CardApplicationsView}">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                </ListView>

                <TextBlock Text="Services" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                <ListView Background="Transparent" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Auto" ItemTemplate="{StaticResource ProfileItemCardTemplate}" Margin="0,0,0,30"
                          ItemsSource="{Binding CardServicesView}">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                </ListView>

                <TextBlock Text="New Items Found (Needs Review)" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                <ListView Background="Transparent" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Auto"
                          ItemsSource="{Binding NeedsReviewView}">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#2D2D30" CornerRadius="8" Width="180" Height="200" Margin="0,0,15,0" Padding="15">
                                <StackPanel>
                                    <Rectangle Width="64" Height="64" Fill="#555" HorizontalAlignment="Center" Margin="0,0,0,15"/>
                                    <TextBlock Text="{Binding DisplayName}" FontWeight="SemiBold" TextAlignment="Center" TextTrimming="CharacterEllipsis" Margin="0,0,0,25"/>
                                    <Button Content="Add to Profile" Background="#3E3E42" BorderThickness="0" Foreground="White" Padding="10,6"
                                            Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=DataContext.PromoteNeedsReviewItemCommand}"
                                            CommandParameter="{Binding}"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackPanel>
        </ScrollViewer>

        <DockPanel Grid.Row="3" Margin="0,20,0,0">
            <Button Content="Settings" DockPanel.Dock="Left" Padding="15,10" Background="#3E3E42" BorderThickness="0" Foreground="White"
                    Command="{Binding OpenSettingsCommand}"/>
            <Button Content="Apply Profile" DockPanel.Dock="Right" Padding="20,10" Background="#0078D4" BorderThickness="0" Foreground="White" FontWeight="SemiBold"
                    Command="{Binding ApplyCommand}"/>
        </DockPanel>
    </Grid>
</Window>